(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-97067ed4"],{"0951":function(e,t,r){},2423:function(e,t,r){"use strict";r.d(t,"f",(function(){return o})),r.d(t,"j",(function(){return i})),r.d(t,"g",(function(){return a})),r.d(t,"h",(function(){return l})),r.d(t,"i",(function(){return s})),r.d(t,"d",(function(){return u})),r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return d})),r.d(t,"e",(function(){return p})),r.d(t,"c",(function(){return m}));var n=r("b775");function o(e){return Object(n["a"])({url:"/article/create",method:"post",data:e})}function i(e){return Object(n["a"])({url:"/article/update",method:"post",data:e})}function a(e){return Object(n["a"])({url:"/article/delete",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/article/detail",method:"get",params:e})}function s(e){return Object(n["a"])({url:"/article/list",method:"get",params:e})}function u(){return Object(n["a"])({url:"/categoryx/cate",method:"get"})}function c(){return Object(n["a"])({url:"/categoryx/list",method:"get"})}function d(e){return Object(n["a"])({url:"/categoryx/create",method:"post",data:e})}function p(e){return Object(n["a"])({url:"/categoryx/update",method:"post",data:e})}function m(e){return Object(n["a"])({url:"/categoryx/delete",method:"post",data:e})}},"9ab2":function(e,t,r){"use strict";var n=r("0951"),o=r.n(n);o.a},ad2a:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"文章标题",prop:"title"}},[r("el-input",{model:{value:e.ruleForm.title,callback:function(t){e.$set(e.ruleForm,"title",t)},expression:"ruleForm.title"}})],1),r("el-form-item",{attrs:{label:"副标题",prop:"label"}},[r("el-input",{model:{value:e.ruleForm.label,callback:function(t){e.$set(e.ruleForm,"label",t)},expression:"ruleForm.label"}})],1),r("el-form-item",{attrs:{label:"排列序号",prop:"sortOrder"}},[r("el-input",{model:{value:e.ruleForm.sortOrder,callback:function(t){e.$set(e.ruleForm,"sortOrder",t)},expression:"ruleForm.sortOrder"}})],1),r("el-form-item",{attrs:{label:"作者名称",prop:"addUser"}},[r("el-input",{model:{value:e.ruleForm.addUser,callback:function(t){e.$set(e.ruleForm,"addUser",t)},expression:"ruleForm.addUser"}})],1),r("el-form-item",{attrs:{label:"链接",prop:"link"}},[r("el-input",{model:{value:e.ruleForm.link,callback:function(t){e.$set(e.ruleForm,"link",t)},expression:"ruleForm.link"}})],1),r("el-form-item",{attrs:{label:"是可以被搜索",prop:"isSearch"}},[r("el-radio-group",{model:{value:e.ruleForm.isSearch,callback:function(t){e.$set(e.ruleForm,"isSearch",t)},expression:"ruleForm.isSearch"}},[r("el-radio",{attrs:{label:!0}},[e._v("是")]),r("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1),r("el-form-item",{attrs:{label:"关键字"}},[e._l(e.keywords,(function(t){return r("el-tag",{key:t,attrs:{closable:"",type:"primary"},on:{close:function(r){return e.handleClose(t)}}},[e._v(" "+e._s(t)+" ")])})),e.newKeywordVisible?r("el-input",{ref:"newKeywordInput",staticClass:"input-new-keyword",on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm(t)}},model:{value:e.newKeyword,callback:function(t){e.newKeyword=t},expression:"newKeyword"}}):r("el-button",{staticClass:"button-new-keyword",attrs:{type:"primary"},on:{click:e.showInput}},[e._v("+ 增加")])],2),r("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"2rem","margin-bottom":"3rem"}},[r("h3",[e._v("文章参数")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleAttributeShow}},[e._v("添加")]),r("el-table",{attrs:{data:e.attributes}},[r("el-table-column",{attrs:{property:"attribute",label:"文章参数名称"}}),r("el-table-column",{attrs:{property:"value",label:"文章参数值"}}),r("el-table-column",{attrs:{align:"center",label:"操作",width:"100","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(r){return e.handleAttributeDelete(t.row)}}},[e._v("删除")])]}}])})],1),r("el-dialog",{attrs:{visible:e.attributeVisiable,title:"添加文章参数"},on:{"update:visible":function(t){e.attributeVisiable=t}}},[r("el-form",{ref:"attributeForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{model:e.attributeForm,"status-icon":"","label-position":"left","label-width":"100px"}},[r("el-form-item",{attrs:{label:"文章参数名称",prop:"attribute"}},[r("el-input",{model:{value:e.attributeForm.attribute,callback:function(t){e.$set(e.attributeForm,"attribute",t)},expression:"attributeForm.attribute"}})],1),r("el-form-item",{attrs:{label:"文章参数值",prop:"value"}},[r("el-input",{model:{value:e.attributeForm.value,callback:function(t){e.$set(e.attributeForm,"value",t)},expression:"attributeForm.value"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.attributeVisiable=!1}}},[e._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleAttributeAdd}},[e._v("确定")])],1)],1)],1),r("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"3rem"}},[r("h3",[e._v("上传附件")]),r("el-form",{ref:"enclosure",attrs:{model:e.enclosure,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"上传附件",prop:"isUpload"}},[r("el-radio-group",{model:{value:e.enclosure.isUpload,callback:function(t){e.$set(e.enclosure,"isUpload",t)},expression:"enclosure.isUpload"}},[r("el-radio",{attrs:{label:!0}},[e._v("对象存储")]),r("el-radio",{attrs:{label:!1}},[e._v("百度云")])],1)],1),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==e.enclosure.isUpload,expression:"enclosure.isUpload == true"}],attrs:{label:"上传附件"}},[r("el-upload",{staticClass:"upload-demo",attrs:{action:e.uploadPath,headers:e.headers,"on-success":e.uploadSuccess,"on-preview":e.handlePreviewBfile,"on-remove":e.handleRemoveBfile,"before-remove":e.beforeRemoveBfile,multiple:"",limit:1,"on-exceed":e.handleExceedBfile,"file-list":e.fileList}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传文件，且不超过20M")])],1)],1),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:0==e.enclosure.isUpload,expression:"enclosure.isUpload == false"}],attrs:{label:"云盘网址",prop:"BaiDuurl"}},[r("el-input",{model:{value:e.enclosure.BaiDuurl,callback:function(t){e.$set(e.enclosure,"BaiDuurl",t)},expression:"enclosure.BaiDuurl"}})],1),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:0==e.enclosure.isUpload,expression:"enclosure.isUpload == false"}],attrs:{label:"提取码",prop:"BaiDuurl"}},[r("el-input",{model:{value:e.enclosure.code,callback:function(t){e.$set(e.enclosure,"code",t)},expression:"enclosure.code"}})],1)],1)],1),r("el-form-item",{attrs:{label:"文章分类",prop:"categoryId"}},[r("el-cascader",{attrs:{options:e.options,props:{expandTrigger:"hover"}},on:{change:e.handleChange},model:{value:e.ruleForm.categoryId,callback:function(t){e.$set(e.ruleForm,"categoryId",t)},expression:"ruleForm.categoryId"}})],1),r("el-form-item",{attrs:{label:"文章图片",prop:"picUrl"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{headers:e.headers,action:e.uploadPath,"show-file-list":!1,"on-success":e.uploadPicUrl,accept:".jpg,.jpeg,.png,.gif"}},[e.ruleForm.picUrl?r("img",{staticClass:"avatar",attrs:{src:e.ruleForm.picUrl}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),r("el-form-item",{attrs:{label:"文章详细介绍",prop:"context"}},[r("editor",{attrs:{init:e.editorInit},model:{value:e.ruleForm.context,callback:function(t){e.$set(e.ruleForm,"context",t)},expression:"ruleForm.context"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("立即创建")]),r("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},o=[],i=(r("99af"),r("c975"),r("a434"),r("d3b7"),r("25f0"),r("ca72")),a=r("2423"),l=r("aecd"),s=r("5f87"),u=r("5c96"),c={components:{Editor:i["a"]},data:function(){return{uploadPath:l["e"],enclosure:{isUpload:void 0},fileList:[],newKeywordVisible:!1,attributes:[],attributeVisiable:!1,attributeForm:{attribute:"",value:""},newKeyword:"",ruleForm:{title:"",isSearch:!0,categoryId:[],picUrl:""},options:[],keywords:[],editorInit:{language:"zh_CN",height:500,convert_urls:!1,plugins:["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools importcss insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],toolbar:["searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],images_upload_handler:function(e,t,r){var n=new FormData;n.append("file",e.blob()),Object(l["a"])(n).then((function(e){t(e.data.data.url)})).catch((function(){r("上传失败，请重新上传")}))}},rules:{title:[{required:!0,message:"请输入文章标题",trigger:"blur"},{min:1,max:99,message:"长度最少 1 个字符",trigger:"blur"}],class:[{required:!0,message:"请选择分类",trigger:"change"}],sortOrder:[{required:!0,message:"请填写排列序号",trigger:"blur"}],categoryId:[{required:!0,message:"请选择活动区域",trigger:"change"}]}}},computed:{headers:function(){return{"X-eye-Admin-Token":Object(s["a"])()}}},mounted:function(){var e=this;Object(a["d"])().then((function(t){console.log(t.data.data.list),e.options=t.data.data.list}))},methods:{handleExceedBfile:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},beforeRemoveBfile:function(e,t){this.fileList=t},handleRemoveBfile:function(e,t){console.log(e,t)},uploadSuccess:function(e,t,r){this.fileList=r},handlePreviewBfile:function(e){console.log(e)},handleAttributeAdd:function(){this.attributes.unshift(this.attributeForm),this.attributeVisiable=!1},handleAttributeDelete:function(e){var t=this.attributes.indexOf(e);this.attributes.splice(t,1)},handleAttributeShow:function(){this.attributeForm={},this.attributeVisiable=!0},showInput:function(){var e=this;this.newKeywordVisible=!0,this.$nextTick((function(t){e.$refs.newKeywordInput.$refs.input.focus()}))},handleInputConfirm:function(){var e=this.newKeyword;e&&(this.keywords.push(e),this.ruleForm.keywords=this.keywords.toString()),this.newKeywordVisible=!1,this.newKeyword=""},handleClose:function(e){this.keywords.splice(this.keywords.indexOf(e),1),this.ruleForm.keywords=this.keywords.toString()},uploadPicUrl:function(e){this.ruleForm.picUrl=e.data.url},handleChange:function(e){console.log(e),e.length>1?this.ruleForm.categoryId=e[1]:this.ruleForm.categoryId=e[0]},submitForm:function(e){var t=this,r={};!0===this.enclosure.isUpload&&this.fileList[0]?r=this.fileList[0].response.data:!1===this.enclosure.isUpload&&this.enclosure.BaiDuurl&&this.enclosure.code?(r.accessoryLink=this.enclosure.BaiDuurl,r.accessoryCode=this.enclosure.code):r={},this.$refs[e].validate((function(e){if(!e)return!1;var n={article:t.ruleForm,attributes:t.attributes,accessory:r};Object(a["f"])(n).then((function(e){t.$notify.success({title:"成功",message:"更新成功"}),t.$router.push({path:"/article/articleList"})})).catch((function(e){u["MessageBox"].alert("业务错误："+e.data.errmsg,"警告",{confirmButtonText:"确定",type:"error"})}))}))},resetForm:function(e){this.$refs[e].resetFields()}}},d=c,p=(r("9ab2"),r("0c7c")),m=Object(p["a"])(d,n,o,!1,null,"9068f86a",null);t["default"]=m.exports},aecd:function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return i})),r.d(t,"d",(function(){return a})),r.d(t,"b",(function(){return l})),r.d(t,"e",(function(){return s}));var n=r("b775");function o(e){return Object(n["a"])({url:"/storage/list",method:"get",params:e})}function i(e){return Object(n["a"])({url:"/storage/create",method:"post",data:e})}function a(e){return Object(n["a"])({url:"/storage/update",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/storage/delete",method:"post",data:e})}var s="https://wwwapidev.6eye9.com/admin/storage/create"},c4a9:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return o}));var n=function(){return"undefined"!==typeof window?window:e},o=function(){var e=n();return e&&e.tinymce?e.tinymce:null}}).call(this,r("24aa"))},ca72:function(e,t,r){"use strict";var n=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],o=function(e){return-1!==n.indexOf(e)},i=function(e,t,r){Object.keys(t).filter(o).forEach((function(n){var o=t[n];"function"===typeof o&&("onInit"===n?o(e,r):r.on(n.substring(2),(function(e){return o(e,r)})))}))},a=function(e,t){var r,n=e.$props.modelEvents?e.$props.modelEvents:null,o=Array.isArray(n)?n.join(" "):n;e.$watch("value",(function(e,n){t&&"string"===typeof e&&e!==r&&e!==n&&(t.setContent(e),r=e)})),t.on(o||"change keyup undo redo",(function(){r=t.getContent(),e.$emit("input",r)}))},l=function(e,t,r){var n=t.$props.value?t.$props.value:"",o=t.$props.initialValue?t.$props.initialValue:"";r.setContent(n||o),t.$listeners.input&&a(t,r),i(e,t.$listeners,r)},s=0,u=function(e){var t=Date.now(),r=Math.floor(1e9*Math.random());return s++,e+"_"+r+s+String(t)},c=function(e){return null!==e&&"textarea"===e.tagName.toLowerCase()},d=function(e){return"undefined"===typeof e||""===e?[]:Array.isArray(e)?e:e.split(" ")},p=function(e,t){return d(e).concat(d(t))},m=function(e,t,r,n){var o=t.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.id=e,o.addEventListener("load",n),o.src=r,t.head&&t.head.appendChild(o)},f=function(){return{listeners:[],scriptId:u("tiny-script"),scriptLoaded:!1}},h=function(e,t,r,n){e.scriptLoaded?n():(e.listeners.push(n),t.getElementById(e.scriptId)||m(e.scriptId,t,r,(function(){e.listeners.forEach((function(e){return e()})),e.scriptLoaded=!0})))},b=r("c4a9"),g={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean},v=function(){return v=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},v.apply(this,arguments)},y=f(),w=function(e,t,r){return e(r||"div",{attrs:{id:t}})},k=function(e,t){return e("textarea",{attrs:{id:t},style:{visibility:"hidden"}})},F=function(e){return function(){var t=v({},e.$props.init,{readonly:e.$props.disabled,selector:"#"+e.elementId,plugins:p(e.$props.init&&e.$props.init.plugins,e.$props.plugins),toolbar:e.$props.toolbar||e.$props.init&&e.$props.init.toolbar,inline:e.inlineEditor,setup:function(t){e.editor=t,t.on("init",(function(r){return l(r,e,t)})),e.$props.init&&"function"===typeof e.$props.init.setup&&e.$props.init.setup(t)}});c(e.element)&&(e.element.style.visibility=""),Object(b["a"])().init(t)}},x={props:g,created:function(){this.elementId=this.$props.id||u("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==Object(b["a"])())F(this)();else if(this.element&&this.element.ownerDocument){var e=this.element.ownerDocument,t=this.$props.cloudChannel?this.$props.cloudChannel:"5",r=this.$props.apiKey?this.$props.apiKey:"no-api-key";h(y,e,"https://cdn.tiny.cloud/1/"+r+"/tinymce/"+t+"/tinymce.min.js",F(this))}},beforeDestroy:function(){null!==Object(b["a"])()&&Object(b["a"])().remove(this.editor)},render:function(e){return this.inlineEditor?w(e,this.elementId,this.$props.tagName):k(e,this.elementId)}};t["a"]=x}}]);